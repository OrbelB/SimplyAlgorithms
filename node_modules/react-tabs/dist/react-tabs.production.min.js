!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactTabs={},e.React)}(this,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(t);function a(e){return function(t){return!!t.type&&t.type.tabsRole===e}}var l=a("Tab"),s=a("TabList"),c=a("TabPanel");function d(e,n){return t.Children.map(e,(function(e){return null===e?null:function(e){return l(e)||s(e)||c(e)}(e)?n(e):e.props&&e.props.children&&"object"==typeof e.props.children?t.cloneElement(e,Object.assign({},e.props,{children:d(e.props.children,n)})):e}))}function o(e,n){return t.Children.forEach(e,(function(e){null!==e&&(l(e)||c(e)?n(e):e.props&&e.props.children&&"object"==typeof e.props.children&&(s(e)&&n(e),o(e.props.children,n)))}))}function u(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function i(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function f(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r}function b(e){var t=0;return o(e,(function(e){l(e)&&t++})),t}var m,p=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys"];function v(e){return e&&"getAttribute"in e}function h(e){return v(e)&&e.getAttribute("data-rttab")}function N(e){return v(e)&&"true"===e.getAttribute("aria-disabled")}var C=function(e){var n=t.useRef([]),a=t.useRef([]),o=t.useRef();function i(t,n){t<0||t>=y()||(0,e.onSelect)(t,e.selectedIndex,n)}function v(e){for(var t=y(),n=e+1;n<t;n++)if(!N(T(n)))return n;for(var r=0;r<e;r++)if(!N(T(r)))return r;return e}function C(e){for(var t=e;t--;)if(!N(T(t)))return t;for(t=y();t-- >e;)if(!N(T(t)))return t;return e}function y(){return b(e.children)}function T(e){return n.current["tabs-"+e]}function R(e){var t=e.target;do{if(g(t)){if(N(t))return;return void i([].slice.call(t.parentNode.children).filter(h).indexOf(t),e)}}while(null!=(t=t.parentNode))}function g(e){if(!h(e))return!1;var t=e.parentElement;do{if(t===o.current)return!0;if(t.getAttribute("data-rttabs"))break;t=t.parentElement}while(t);return!1}e.children;var w=e.className;e.disabledTabClassName;var x=e.domRef;e.focus,e.forceRenderTabPanel,e.onSelect,e.selectedIndex,e.selectedTabClassName,e.selectedTabPanelClassName,e.environment,e.disableUpDownKeys;var E=u(e,p);return r.default.createElement("div",Object.assign({},E,{className:f(w),onClick:R,onKeyDown:function(t){var n=e.direction,r=e.disableUpDownKeys;if(g(t.target)){var a=e.selectedIndex,l=!1,s=!1;"Space"!==t.code&&32!==t.keyCode&&"Enter"!==t.code&&13!==t.keyCode||(l=!0,s=!1,R(t)),"ArrowLeft"!==t.code&&37!==t.keyCode&&(r||38!==t.keyCode&&"ArrowUp"!==t.code)?"ArrowRight"!==t.code&&39!==t.keyCode&&(r||40!==t.keyCode&&"ArrowDown"!==t.code)?35===t.keyCode||"End"===t.code?(a=function(){for(var e=y();e--;)if(!N(T(e)))return e;return null}(),l=!0,s=!0):36!==t.keyCode&&"Home"!==t.code||(a=function(){for(var e=y(),t=0;t<e;t++)if(!N(T(t)))return t;return null}(),l=!0,s=!0):(a="rtl"===n?C(a):v(a),l=!0,s=!0):(a="rtl"===n?v(a):C(a),l=!0,s=!0),l&&t.preventDefault(),s&&i(a,t)}},ref:function(e){o.current=e,x&&x(e)},"data-rttabs":!0}),function(){var o=0,u=e.children,i=e.disabledTabClassName,f=e.focus,b=e.forceRenderTabPanel,p=e.selectedIndex,v=e.selectedTabClassName,h=e.selectedTabPanelClassName,N=e.environment;a.current=a.current||[];for(var C=a.current.length-y(),R=t.useId();C++<0;)a.current.push(""+R+a.current.length);return d(u,(function(e){var u=e;if(s(e)){var C=0,y=!1;null==m&&function(e){var t=e||("undefined"!=typeof window?window:void 0);try{m=!(void 0===t||!t.document||!t.document.activeElement)}catch(e){m=!1}}(N);var R=N||("undefined"!=typeof window?window:void 0);m&&R&&(y=r.default.Children.toArray(e.props.children).filter(l).some((function(e,t){return R.document.activeElement===T(t)}))),u=t.cloneElement(e,{children:d(e.props.children,(function(e){var r="tabs-"+C,l=p===C,s={tabRef:function(e){n.current[r]=e},id:a.current[C],selected:l,focus:l&&(f||y)};return v&&(s.selectedClassName=v),i&&(s.disabledClassName=i),C++,t.cloneElement(e,s)}))})}else if(c(e)){var g={id:a.current[o],selected:p===o};b&&(g.forceRender=b),h&&(g.selectedClassName=h),o++,u=t.cloneElement(e,g)}return u}))}())};C.defaultProps={className:"react-tabs",focus:!1};var y=function(e){var n=e.children,a=e.defaultFocus,l=e.defaultIndex,s=e.focusTabOnClick,c=e.onSelect,d=t.useState(a),o=d[0],u=d[1],i=t.useState(function(e){return null===e.selectedIndex?1:0}(e)),f=i[0],m=t.useState(1===f?l||0:null),p=m[0],v=m[1];if(t.useEffect((function(){u(!1)}),[]),1===f){var h=b(n);t.useEffect((function(){if(null!=p){var e=Math.max(0,h-1);v(Math.min(p,e))}}),[h])}var N=Object.assign({},e);return N.focus=o,N.onSelect=function(e,t,n){"function"==typeof c&&!1===c(e,t,n)||(s&&u(!0),1===f&&v(e))},null!=p&&(N.selectedIndex=p),delete N.defaultFocus,delete N.defaultIndex,delete N.focusTabOnClick,r.default.createElement(C,N,n)};y.defaultProps={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1},y.tabsRole="Tabs";var T=["children","className"],R=function(e){var t=e.children,n=e.className,a=u(e,T);return r.default.createElement("ul",Object.assign({},a,{className:f(n),role:"tablist"}),t)};R.tabsRole="TabList",R.defaultProps={className:"react-tabs__tab-list"};var g=["children","className","disabled","disabledClassName","focus","id","selected","selectedClassName","tabIndex","tabRef"],w="react-tabs__tab",x={className:w,disabledClassName:"react-tabs__tab--disabled",focus:!1,id:null,selected:!1,selectedClassName:"react-tabs__tab--selected"},E=function(e){var n,a=t.useRef(),l=e.children,s=e.className,c=e.disabled,d=e.disabledClassName,o=e.focus,i=e.id,b=e.selected,m=e.selectedClassName,p=e.tabIndex,v=e.tabRef,h=u(e,g);return t.useEffect((function(){b&&o&&a.current.focus()}),[b,o]),r.default.createElement("li",Object.assign({},h,{className:f(s,(n={},n[m]=b,n[d]=c,n)),ref:function(e){a.current=e,v&&v(e)},role:"tab",id:"tab"+i,"aria-selected":b?"true":"false","aria-disabled":c?"true":"false","aria-controls":"panel"+i,tabIndex:p||(b?"0":null),"data-rttab":!0}),l)};E.tabsRole="Tab",E.defaultProps=x;var P=["children","className","forceRender","id","selected","selectedClassName"],I="react-tabs__tab-panel",k={className:I,forceRender:!1,selectedClassName:I+"--selected"},j=function(e){var t,n=e.children,a=e.className,l=e.forceRender,s=e.id,c=e.selected,d=e.selectedClassName,o=u(e,P);return r.default.createElement("div",Object.assign({},o,{className:f(a,(t={},t[d]=c,t)),role:"tabpanel",id:"panel"+s,"aria-labelledby":"tab"+s}),l||c?n:null)};j.tabsRole="TabPanel",j.defaultProps=k,e.Tab=E,e.TabList=R,e.TabPanel=j,e.Tabs=y,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-tabs.production.min.js.map
